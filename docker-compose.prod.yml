version: '3.8'

# Configuration pour la production
# Utilisation: docker-compose -f docker-compose.yml -f docker-compose.prod.yml up

services:
  backend:
    environment:
      ENVIRONMENT: production
      DEBUG: "False"
    command: uvicorn main:app --host 0.0.0.0 --port 8000 --workers 4
    # Pas de reload en production
    restart: unless-stopped

  postgres:
    restart: unless-stopped

